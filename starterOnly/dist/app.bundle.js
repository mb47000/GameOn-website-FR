(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e(t,"dom",{modalbg:document.querySelector(".bground"),modalBtn:document.querySelectorAll(".modal-btn"),closeBtn:document.querySelector(".close"),closeConfirm:document.querySelector(".close-confirm"),modalConfirm:document.querySelector(".confirm-modal"),form:document.getElementsByName("reserve")[0]}),e(t,"launchModalEvent",(function(){t.dom.modalBtn.forEach((function(e){return e.addEventListener("click",t.launchModal)})),t.dom.closeBtn.addEventListener("click",t.closeModal),t.dom.closeBtn.addEventListener("click",t.closeConfirm),t.dom.closeConfirm.addEventListener("click",t.closeConfirm)})),e(t,"launchModal",(function(){return t.dom.modalbg.style.display="block"})),e(t,"closeModal",(function(){return t.dom.modalbg.style.display="none"})),e(t,"closeConfirm",(function(){t.closeModal(),t.dom.form.style.display="block",t.dom.modalConfirm.style.display="none",t.dom.modalConfirm.classList.remove("confirm-message")})),e(t,"validation",(function(){t.dom.form.style.display="none",t.dom.modalConfirm.style.display="block",t.dom.modalConfirm.classList.add("confirm-message")}));var a=new WeakMap,o={firstName:{element:document.getElementById("first"),validationType:"name",invalidMessage:"Veuillez entrer 2 caractères ou plus pour le champ du prénom."},lastName:{element:document.getElementById("last"),validationType:"name",invalidMessage:"Veuillez entrer 2 caractères ou plus pour le champ du nom."},email:{element:document.getElementById("email"),validationType:"email",invalidMessage:"Veuillez entrer une adresse mail valide."},birthdate:{element:document.getElementById("birthdate"),validationType:"date",invalidMessage:"Vous devez entrer votre date de naissance."},quantity:{element:document.getElementById("quantity"),validationType:"number",invalidMessage:"Veuillez entrer un nombre."},location:{element:document.querySelectorAll('input[name="location"]'),validationType:"radio",invalidMessage:"Veuillez selectionner une ville."},checkbox:{element:document.getElementById("checkbox1"),validationType:"checkbox",invalidMessage:"Vous devez vérifier que vous acceptez les termes et conditions."}},l=document.querySelectorAll(".formData");window.editNav=function(){var e=document.getElementById("myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"},t.launchModalEvent();var r=new function e(t,o){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a.set(this,{writable:!0,value:!0}),i(this,"getFormValid",(function(){return function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}(l,a)})),i(this,"setFormValid",(function(e){return function(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}(l,a,e)})),i(this,"nameValidation",(function(e){return null!==e.value&&e.value.length>=2})),i(this,"emailValidation",(function(e){return/^([a-z0-9_\.-]+\@[\da-z\.-]+\.[a-z\.]{2,6})$/.test(e.value)})),i(this,"numberValidation",(function(e){return/^[0-9]+$/.test(e.value)})),i(this,"radioValidation",(function(e){var t,i=function(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,d=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){d=!0,l=e},f:function(){try{r||null==i.return||i.return()}finally{if(d)throw l}}}}(e);try{for(i.s();!(t=i.n()).done;)if(t.value.checked)return!0}catch(e){i.e(e)}finally{i.f()}})),i(this,"checkboxValidation",(function(e){return e.checked})),i(this,"dateValidation",(function(e){return""!=e.value})),i(this,"resetValidation",(function(){l.setFormValid(!0),Array.from(l.fieldContainer).map((function(e){e.dataset.errorVisible=!1}))})),i(this,"invalidInputStyle",(function(e,t){e.parentNode.setAttribute("data-error-visible",!0),e.parentNode.setAttribute("data-error",t)})),i(this,"launchValidation",(function(){for(var e in l.resetValidation(),l.formFields)switch(l.formFields[e].validationType){case"name":l.nameValidation(l.formFields[e].element)||(l.invalidInputStyle(l.formFields[e].element,l.formFields[e].invalidMessage),l.setFormValid(!1));break;case"email":l.emailValidation(l.formFields[e].element)||(l.invalidInputStyle(l.formFields[e].element,l.formFields[e].invalidMessage),l.setFormValid(!1));break;case"number":l.numberValidation(l.formFields[e].element)||(l.invalidInputStyle(l.formFields[e].element,l.formFields[e].invalidMessage),l.setFormValid(!1));break;case"radio":l.radioValidation(l.formFields[e].element)||(l.invalidInputStyle(l.formFields[e].element[0],l.formFields[e].invalidMessage),l.setFormValid(!1));break;case"checkbox":l.checkboxValidation(l.formFields[e].element)||(l.invalidInputStyle(l.formFields[e].element,l.formFields[e].invalidMessage),l.setFormValid(!1));break;case"date":l.dateValidation(l.formFields[e].element)||(l.invalidInputStyle(l.formFields[e].element,l.formFields[e].invalidMessage),l.setFormValid(!1))}return l.getFormValid()})),this.fieldContainer=t,this.formFields=o}(l,o),d=document.getElementsByName("reserve")[0];d.onsubmit=function(e){e.preventDefault(),r.launchValidation()&&(d.reset(),t.validation())}})();
//# sourceMappingURL=app.js.map